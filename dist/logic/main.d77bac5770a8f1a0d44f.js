(self.webpackChunkvicles=self.webpackChunkvicles||[]).push([[792],{5076:(e,t,n)=>{"use strict";var i=n(8919);class s extends i.uA{#e;#t;#n;#i;#s;constructor(e,t,n,i,s){super(),this.#e=e,this.#t=t,this.#n=n,this.#i=i,this.#s=s,this.create()}create(){let e=i.Sl(null,"v_floatingMessage_image",this.#e),t=i.Pf("v_infoTitle",this.#t),n=i.Pf("v_infoMessage",this.#n),s=i.x6(null,"v_infoButton",this.#i,null),a=i.om(null,"v_floatingMessage_text_container",[t,n,s]);s.onclick=()=>{this.#s(this.component)},this.component=i.om(null,"v_floatingMessage",[e,a])}}class a extends i.uA{#a;parent;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.#a=e,this.path=t,this.parent=n,this.create()}#l(){return[{value:"fr",text:"Fr"},{value:"en",text:"En"},{value:"ar",text:"ع"}]}#o(e){let t=i.Pf("languagesMenu",e.text),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(t.style.direction="rtl"),n.setAttribute("itemValue",e.value),n}#r(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=i.x6(null,"v_fieldIcon_L",null,e),r=i.DU(null,t,n,"v_iconedfield"),c=i.x6(null,"v_fieldIcon_R invisible",null,'<i class="ri-alarm-warning-line"></i>'),d=i.om(null,"v_iconField "+a,[o,r,c]);if(s.length>0){let e=i.om(null,"v_logsign_instructions",[i.p_(s,"v_instructions_list")]);d.append(e)}return r.setAttribute("required",""),void 0!==l&&r.setAttribute("condition",l),d}#c(){let e={email:e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.value.toLowerCase()),password:e=>/^(?=(.*[A-Z]){2})(?=(.*\d){2})(?=(.*[!@#$%^&*(),.?":{}|<>]){2})[A-Za-z\d!@#$%^&*(),.?":{}|<>]{8,}$/.test(e.value)};return e}#d(e){return e.getElementsByClassName("v_iconedfield")[0].value}create(){let e,t=i.R_(1,"v_logo","Vicles"),n=new i.ms(null,"v_langs_menu",'<i class="ri-earth-line"></i>',this.#l(),this.#o),a=i.om(null,"v_login_head",[]),l=i.x6(null,"v_signup_return",null,'<i class="ri-arrow-left-line"></i>'),o=i.om(null,"v_signup_return_container",[l]),r=i.R_(2,"v_heading v_home_login_container_pos1","Bievenue"),c=i.R_(1,"v_heading v_home_login_container_pos2","Connectez vous"),d=this.#r('<i class="ri-font-size"></i>',"Raison sociale","text",["Ce champ est obligatoire."],"v_login_agency_name"),u=this.#r('<i class="ri-registered-line"></i>',"Registre de commerce","text",["Ce champ est obligatoire."],"v_login_rc"),p=this.#r('<i class="ri-at-line"></i>',"Adresse mail","email",["Ce champ est obligatoire.","L'email doit être valide","Jamais utilisée sur Vicles"],"v_login_email","email"),h=this.#r('<i class="ri-key-2-line"></i>',"Mot de passe","password",["Ce champ est obligatoire.","Au moin 8 caractères","2 symbole","2 alphabet majiscule","2 numéro"],"v_login_password","password"),_=this.#r('<i class="ri-map-pin-2-line"></i>',"Adresse","text",["Ce champ est obligatoire."],"v_login_address"),m=i.DU(null,"","checkbox","v_checkbox"),v=i.Pf("v_default_text","Se Souvenir de moi"),g=i.om(null,"v_keepmeSignedin",[m,v]),f=i.DU(null,"","checkbox","v_checkbox"),b=i.P7("/terms","conditions d'utilisation",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),w=i.Pf("v_default_text","J'accepte toutes les "),y=i.om(null,"v_keepmeSignedin",[f,w]),C=i.x6(null,"v_medium_button orange","Connecter",null),x=i.Pf("v_home_or_label","OR"),L=i.x6(null,"v_medium_button blue","Créer un compte"),N=i.om(null,"v_login_block",[]),k=i.om(null,"v_login_block_container",[r,c,N]),P=i.Pf("v_default_text v_size_2 v_text_align_center","ver: 1.0.0"),T=i.P7("/about","À propos",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),A=i.P7("/register","",null,null,""),S=i.P7("/contact","Contactez-nous",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),M=i.P7("/privacy","Confidentialité",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),I=i.P7("/terms","Conditions",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),E=i.om(null,"v_home_footer",[]);if(p.onclick=()=>{p.getElementsByClassName("v_iconedfield")[0].click()},w.append(b),h.onclick=()=>{h.getElementsByClassName("v_iconedfield")[0].click()},"Register"===this.#a){k.insertBefore(o,r),r.textContent="Bon choix!",r.className="v_heading v_home_signup_container_pos1",c.textContent="Créez un compte",c.className="v_heading v_home_signup_container_pos2",L.textContent="Créer",N.className="Signup_block",N.append(d,u,p,h,_,y,L),e="v_mutable_panel_register",f.setAttribute("required","");const t=new i.Dr(N,((e,t)=>{if("checkbox"!==t){const t=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];t.className=t.className.replace("invisible","red")}else e.parentNode.className+=" circle_over_danger"}),((e,t)=>{if("checkbox"!==t){const t=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];t.className=t.className.replace("red","invisible")}else e.parentNode.className="v_keepmeSignedin"}),!1,this.#c()),n=new s("/assets/welcome_1.webp","Compte créé avec succés","Un email de confirmation vous a été envoyé à votre boite mail","OK!",(e=>{e.parentNode.removeChild(e)})),a=new s("/assets/oops.webp","Agence existe déja","L'une des données utilisées (email, RC, raison sociale) pour créer le compte est déja utilisée par une autre agence.","OK!",(e=>{e.parentNode.removeChild(e)}));L.onclick=()=>{if(t.validate()){L.disabled=!0;let e=new FormData;e.append("name",this.#d(d)),e.append("rc",this.#d(u)),e.append("email",this.#d(p).toLowerCase()),e.append("password",this.#d(h)),e.append("address",this.#d(_)),new i.WL("/agency/create","POST",e,(e=>{const t=JSON.parse(e);0===t.code?(history.back(),i.yA.append(n.getHTML())):1===t.code&&i.yA.append(a.getHTML()),L.disabled=!1}),(()=>{}))}},l.onclick=()=>{history.back()}}else{let n=this.#r('<i class="ri-at-line"></i>',"Adresse mail","email",["Ce champ est obligatoire."],"v_login_email","email"),l=this.#r('<i class="ri-key-2-line"></i>',"Mot de passe","password",["Ce champ est obligatoire."],"v_login_password");N.append(n,l,g,C,x,L),E.append(P,T,S,M,I),a.append(t),L.onclick=()=>{A.click()},e="v_mutable_panel";const o=new i.Dr(N,((e,t)=>{const n=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];n.className=n.className.replace("invisible","red")}),((e,t)=>{const n=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];n.className=n.className.replace("red","invisible")}),!1,this.#c());C.onclick=async()=>{if(o.validate()){C.disabled=!0;let e=new FormData;e.append("email",this.#d(n).toLowerCase()),e.append("password",this.#d(l)),e.append("fingerprint",await i.$A());const t=new s("/assets/oops.webp","Données erronées","Email ou mot de passe incorrecte","OK!",(e=>{e.parentNode.removeChild(e)}));new i.WL("/agency/login","GET",e,(e=>{const n=JSON.parse(e);n.hasOwnProperty("code")?(i.yA.append(t.getHTML()),C.disabled=!1):(i.N_.add("user",JSON.stringify(n)),this.parent.rerender())}),(()=>{}))}}}n.onChange=e=>{(new i.pm).add("language",e)},n.setValue(i.N_.get("language")),this.component=i.om(null,e,[a,k,E])}}class l extends i.uA{#u;constructor(e){super(),this.#u=e,this.create()}create(){let e=i.R_(2,"vicles_soon_heading",`La page ${this.#u} est en cours de construction par nos développeurs.`),t=i.Sl(null,"vicles_soon_image","/assets/soon.svg");this.component=i.om(null,"vicles_soon_page",[t,e])}}class o extends i.uA{constructor(e){super(),this.path="/",this.implementationPoint=e,this.create()}create(){this.component=i.om(null,"v_vicles_activity",[new l("Statistiques").getHTML()])}}class r extends i.uA{icon;id;styleClass;text;onclick;constructor(e,t,n,i,s){super(),this.icon=n,this.id=e,this.styleClass=t,this.text=i,this.onclick=s,this.create()}create(){const e=i.x6(null,"v_iconedButton_icon",null,this.icon),t=i.Pf("v_iconedButton",this.text);this.component=i.om(this.id,this.styleClass,[e,t]),this.component.onclick=()=>{this.onclick()}}}class c extends i.uA{fieldIcon;fieldHint;fieldType;instructions;className;condition;#p;constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;super(),this.fieldIcon=e,this.fieldHint=t,this.fieldType=n,this.instructions=i,this.className=s,this.condition=a,this.#p,this.create()}create(){let e=i.x6(null,"v_fieldIcon_L",null,this.fieldIcon),t=i.DU(null,this.fieldHint,this.fieldType,"v_iconedfield"),n=i.x6(null,"v_fieldIcon_R invisible",null,'<i class="ri-alarm-warning-line"></i>'),s=i.om(null,"v_iconField "+this.className,[e,t,n]);if(this.instructions.length>0){let e=i.om(null,"v_logsign_instructions",[i.p_(this.instructions,"v_instructions_list")]);s.append(e)}t.setAttribute("required",""),void 0!==this.condition&&t.setAttribute("condition",this.condition),this.#p=t,this.component=s}getValue(){return this.#p.value}setValue(e){this.#p.value=e}getField(){return this.#p}}class d extends i.uA{#t;#h;#_;appZone;#m;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"history";super(),this.#h=e,this.#t=t,this.#_=n,this.#m=i,this.create()}create(){let e=i.x6(null,"v_vicles_window_icon",null,this.#h),t=i.Pf("v_vicles_window_title",this.#t),n=i.x6(null,"v_vicles_window_close",null,'<i class="ri-close-circle-line"></i>'),s=i.om(null,"v_vicles_window_titlebar",[e,t,n]),a=i.om(null,"v_vicles_window_zone",[]),l=i.om(null,"v_vicles_window "+this.#_,[s,a]),o=i.om(null,"v_vicles_window_background",[]);this.appZone=a,this.component=i.om(null,"v_vicles_window_platform",[o,l]),"history"===this.#m?(o.onclick=()=>{history.back()},n.onclick=()=>{history.back()}):"modal"===this.#m&&(o.onclick=()=>{i.yA.removeChild(this.component)},n.onclick=()=>{i.yA.removeChild(this.component)})}}class u extends i.uA{message;status;duration;parent;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.yA;super(),this.message=e,this.status=n,this.duration=t,this.parent=s,this.create()}create(){this.component=i.om(null,"vicles_toast "+this.status,[i.Pf("vicles_toast_message",this.message)])}show(){this.parent.appendChild(this.component),setTimeout((()=>{this.hide()}),this.duration)}hide(){this.parent.removeChild(this.component)}}class p extends i.uA{constructor(){super(),this.create()}create(){this.component=i.om(null,"waitScreen",[i.om(null,"waitScreen_content",[])])}}class h extends i.uA{#v;#m;#g;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(),this.#m=e,"create"===e?(this.path="/add",this.#g="history"):"edit"===e&&(this.path="/edit",this.hasQueryParams=!0,this.#g="modal"),this.#v=n,this.implementationPoint=t,this.create()}#c(){let e={plate:e=>/^\d{1,6}-[A-Za-z]-\d{1,3}$/.test(e.value),model_year:e=>parseInt(e.value)>=1940&&parseInt(e.value)<=(new Date).getFullYear()+1,price:e=>parseFloat(e.value)>=100&&parseFloat(e.value)<=5e4,seats:e=>parseInt(e.value)>=1&&parseInt(e.value)<=10,miles:e=>parseInt(e.value)>=0&&parseInt(e.value)<=1e6,trunc:e=>parseInt(e.value)>=5&&parseInt(e.value)<=1e3};return e}#f(e,t){t.disabled=!0,i.WL("/agency/addCar","POST",e,(e=>{if(e=JSON.parse(e),t.disabled=!1,e.hasOwnProperty("code")&&-1===e.code){history.back(),this.rerender();new u("Erreur lors de l'ajout de la voiture",3e3,"error_toast").show()}else if(e.hasOwnProperty("code")&&5===e.code){new u("Matricule déjà utilisé",3e3,"error_toast").show()}else{history.back(),this.rerender();const e=new u("Voiture ajoutée avec succès",3e3,"success_toast");this.connectedComponents.car_factory.rerender(),e.show()}}),(()=>{}))}#b(e,t){t.disabled=!0,i.WL("/agency/updateCar","POST",e,(e=>{if(e=JSON.parse(e),t.disabled=!1,e.hasOwnProperty("code")&&-1===e.code){this.component.parentNode.removeChild(this.component);new u("Erreur lors de la mise à jours de la voiture",3e3,"error_toast").show()}else if(e.hasOwnProperty("code")&&5===e.code){new u("Matricule déjà utilisé",3e3,"error_toast").show()}else{this.component.parentNode.removeChild(this.component);new u("Voiture mise à jour avec succès",3e3,"success_toast").show(),this.connectedComponents.car_factory.rerender()}}),(()=>{}))}create(){let e=new d('<i class="ri-add-large-line"></i>',"Ajouter une voiture","v_vicles_carInfo",this.#g),t=i.om(null,"v_vicles_car_brand_model_container",[]),n=new c('<i class="ri-hashtag"></i>',"Matricule","text",["Champs obligatoire","Format: 12345-A-123"],"v_vicles_carInfo_inputs","plate"),s=new c('<i class="ri-calendar-schedule-line"></i>',"Année du model","number",["Champs obligatoire","Entre 1940 et "+((new Date).getFullYear()+1)],"v_vicles_carInfo_inputs","model_year"),a=new c('<i class="ri-money-dollar-circle-line"></i>',"Prix par jour","number",["Champs obligatoire","Entre 100 et 50000"],"v_vicles_carInfo_inputs","price"),l=new c('<i class="ri-sofa-line"></i>',"Nombre de places","number",["Champs obligatoire","Entre entre 1 et 10"],"v_vicles_carInfo_inputs","seats"),o=new c('<i class="ri-speed-up-fill"></i>',"Kilométrage","number",["Champs obligatoire","Entre 0 et 1000000"],"v_vicles_carInfo_inputs","miles"),r=new c('<i class="ri-luggage-deposit-line"></i>',"Volume du  coffre","number",["Champs obligatoire","Entre 5 et 1000"],"v_vicles_carInfo_inputs","trunc"),h=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Boite à vitesse"},{id:"2",name:"Automatique"},{id:"1",name:"Manuelle"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n})),_=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Climatisation"},{id:"0",name:"OUI"},{id:"1",name:"NON"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n})),m=i.om(null,"v_vicles_car_brand_model_container",[h.getHTML(),_.getHTML()]),v=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Carburant"},{id:"1",name:"Diesel"},{id:"2",name:"Essence"},{id:"3",name:"Hybride"},{id:"4",name:"Electrique"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n})),g=i.om(null,"v_vicles_car_brand_model_container",[v.getHTML()]),f=i.om(null,"v_vicles_carInfo_left",[t,n.getHTML(),s.getHTML(),a.getHTML(),l.getHTML(),o.getHTML(),r.getHTML(),m,g]),b=i.om(null,"v_vicles_car_drop_images",[i.x6(null,"v_vicles_drop_image_icon",null,'<i class="ri-image-add-line"></i>'),i.Pf("v_vicles_drop_image_text","Déposez ou cliquez pour télécharger l'image de couverture","v_vicles_drop_image_text")]),w=i.DU(null,"Déposez ou cliquez pour télécharger l'image de couverture","file","v_vicles_drop_file_input"),y=i.om(null,"v_vicles_car_small_images",[i.x6(null,"v_vicles_drop_image_icon",null,'<i class="ri-image-add-line"></i>')]),C=i.om(null,"v_vicles_car_small_miniature",[]),x=i.om(null,"v_vicles_car_small_miniature",[]),L=i.DU(null,"Déposez ou cliquez pour télécharger l'image de couverture","file","v_vicles_drop_file_input"),N=i.om(null,"v_vicles_car_scrollable_images",[y,C,x,L]),k=i.x6(null,"v_small_button_main","create"===this.#m?"Ajouter":"Modifer",null),P=i.x6(null,"v_small_button_black","Annuler",null),T=i.om(null,"v_vicles_carInfo_buttons",[k,P]),A=i.om(null,"v_vicles_carInfo_right",[b,w,N,T]),S=e.appZone,M=-1,I=-1,E=-1,H=-1,D=null,F=[],O=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Sélectionner une marque"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n})),V=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Sélectionner un model"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n}));function R(e){if(e&&e.type.startsWith("image/")){const t=new FileReader;t.onload=e=>{b.innerHTML=`<img src="${e.target.result}" alt="Cover image" class="v_vicles_drop_image_cover_image">`,D=e.target.result},t.readAsDataURL(e)}else b.classList.add("circle_over_danger")}if(s.getField().min=1940,s.getField().max=(new Date).getFullYear()+1,a.getField().min=100,a.getField().max=5e4,l.getField().min=1,l.getField().max=10,o.getField().min=0,o.getField().max=1e6,r.getField().min=5,r.getField().max=1e3,L.setAttribute("multiple",""),b.addEventListener("click",(()=>w.click())),N.addEventListener("click",(()=>L.click())),L.addEventListener("change",(e=>{if(0!==e.target.files.length){F=[],N.innerHTML="";for(const t of e.target.files){const e=new FileReader;e.onload=e=>{const t=i.Sl(null,"v_vicles_car_small_miniature",e.target.result);F.push(e.target.result),N.append(t)},e.readAsDataURL(t)}}else y.classList.add("circle_over_danger")})),b.addEventListener("dragover",(e=>{e.preventDefault(),b.classList.add("dragover")})),b.addEventListener("dragleave",(()=>{b.classList.remove("dragover")})),b.addEventListener("drop",(e=>{e.preventDefault(),b.classList.remove("dragover"),R(e.dataTransfer.files[0])})),w.addEventListener("change",(e=>{R(e.target.files[0])})),P.onclick=()=>{"edit"===this.#m?this.component.parentNode.removeChild(this.component):"create"===this.#m&&history.back()},"edit"===this.#m&&(b.innerHTML=`<img src="${this.#v.cover}" alt="Cover image" class="v_vicles_drop_image_cover_image">`,this.#v.images.length>0)){N.innerHTML="";for(const e of this.#v.images){const t=i.Sl(null,"v_vicles_car_small_miniature",e.link);N.append(t)}}const B=new i.Dr(f,((e,t)=>{const n=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];n.className=n.className.replace("invisible","red")}),((e,t)=>{const n=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];n.className=n.className.replace("red","invisible")}),!1,this.#c());k.onclick=()=>{let e=!0;if(y.classList.remove("circle_over_danger"),0===w.files.length&&"create"===this.#m?(b.classList.add("circle_over_danger"),e=!1):b.classList.remove("circle_over_danger"),-1===M?(t.childNodes.forEach((e=>{e.classList.add("circle_over_danger")})),e=!1):t.childNodes.forEach((e=>{e.classList.remove("circle_over_danger")})),-1===H?(h.getHTML().classList.add("circle_over_danger"),e=!1):h.getHTML().classList.remove("circle_over_danger"),-1===I?(_.getHTML().classList.add("circle_over_danger"),e=!1):_.getHTML().classList.remove("circle_over_danger"),-1===E?(v.getHTML().classList.add("circle_over_danger"),e=!1):v.getHTML().classList.remove("circle_over_danger"),B.validate()||(e=!1),e){const e=new FormData;e.append("cover",null===D?this.#v.cover:D),e.append("images",0===F.length&&void 0!==this.#v&&this.#v.images.length>0?JSON.stringify(this.#v.images):JSON.stringify(F)),e.append("model",parseInt(M)),e.append("gear",parseInt(H)),e.append("ac",parseInt(I)),e.append("fuel",parseInt(E)),e.append("price",parseFloat(a.getValue())),e.append("miles",parseInt(o.getValue())),e.append("trunc",parseInt(r.getValue())),e.append("plate",n.getValue()),e.append("model_year",parseInt(s.getValue())),e.append("seats",parseInt(l.getValue())),e.append("agency",JSON.parse(i.N_.get("user")).id),"edit"===this.#m&&e.append("id",this.#v.id),"create"===this.#m?this.#f(e,k):"edit"===this.#m&&this.#b(e,k)}else{new u("Tous les champs sont obligatoires",3e3,"warning_toast").show()}},i.WL("/agency/brands","GET",new FormData,(e=>{e=JSON.parse(e),O.updateItems([{id:"-1",name:"Sélectionner une marque"},...e]),t.append(O.getHTML(),V.getHTML()),V.onChange=(e,t)=>{M=parseInt(e)},O.onChange=(e,t)=>{if("-1"===e)return V.updateItems([{id:"-1",name:"Sélectionner un model"}]),V.onChange=(e,t)=>{},M=-1,!1;const n=new FormData;n.append("brand",parseInt(e)),i.WL("/agency/models","GET",n,(e=>{e=JSON.parse(e),V.updateItems([{id:"-1",name:"Sélectionner un model"},...e]),V.onChange=e=>{M=parseInt(e)},"edit"===this.#m&&V.setValue(this.#v.moid)}),(()=>{}))},"edit"===this.#m&&(O.setValue(this.#v.brid),n.setValue(this.#v.plate),s.setValue(this.#v.year),a.setValue(this.#v.price),l.setValue(this.#v.seats),o.setValue(this.#v.miles),r.setValue(this.#v.trunk_size),h.setValue(this.#v.gear),_.setValue(Number(this.#v.ac).toString()),v.setValue(this.#v.fuel)),S.innerHTML="",S.append(f,A)}),(()=>{})),_.onChange=e=>{I=parseInt(e)},h.onChange=e=>{H=parseInt(e)},v.onChange=e=>{E=parseInt(e)},S.append((new p).getHTML()),this.component=e.getHTML()}}class _ extends i.uA{#v;#w;constructor(e,t){super(),this.#v=e,this.#w=t,this.create()}create(){let e=i.x6(null,"vicles_car_button vicles_car_delete",null,'<i class="ri-delete-bin-line"></i>'),t=i.x6(null,"vicles_car_button vicles_car_modify",null,'<i class="ri-edit-box-line"></i>'),n=i.om(null,"vicles_car_toolBar",[e,t]),s=i.Sl(null,"vicles_car_image",this.#v.cover),a=new h("edit",null,this.#v),l=i.om(null,"vicles_car_brand_model_container",[i.Pf("vicles_car_brand",this.#v.cbrand),i.Pf("vicles_car_model",this.#v.cmodel)]),o=i.Pf("vicles_car_plate",this.#v.plate.replaceAll("-"," | "));this.component=i.om(null,"vicles_car",[n,s,l,o]),a.connectedComponents.car_factory=this.#w,t.onclick=()=>{i.yA.append(a.getHTML())},e.onclick=()=>{const e=new d('<i class="ri-delete-bin-line"></i>',"Supprimez","vicles_car_delete_window","modal"),t=i.Pf("vicles_car_delete_message","La suppression est irreversible. Êtes-vous sûr?"),n=i.x6(null,"vicles_car_approve_delettion","Supprimer"),s=i.x6(null,"vicles_car_cancel_delettion","Annuler"),a=i.om(null,"vicles_car_deletion_actions_container",[s,n]);s.onclick=()=>{e.getHTML().parentNode.removeChild(e.getHTML())},n.onclick=()=>{const t=new FormData;t.append("id",this.#v.id),n.disabled=!0,i.WL("/agency/deleteCar","POST",t,(t=>{if((t=JSON.parse(t)).hasOwnProperty("code")){new u("Voiture n'a pas été supprimée",3e3,"error_toast").show(),n.disabled=!1}else{e.getHTML().parentNode.removeChild(e.getHTML()),this.#w.rerender();new u("Voiture est supprimée",3e3,"success_toast").show()}}),(e=>{}))},e.appZone.append(t,a),i.yA.append(e.getHTML())}}}class m extends i.uA{constructor(e){super(),this.currentPage=1,this.parentComponent=e,this.pageSize=25,this.totalPages=1,this.searchTerm="",this.create()}#y(e){const t=[];for(const n of e)t.push(new _(n,this).getHTML());return t}#C(){const e=i.om(null,"pagination-controls",[]),t=i.x6(null,"pagination_button",null,'<i class="ri-arrow-left-circle-fill"></i>');t.onclick=()=>{this.component.className="carFactoryInitial",this.changePage(this.currentPage-1)},t.disabled=1===this.currentPage;const n=i.x6(null,"pagination_button",null,'<i class="ri-arrow-right-circle-fill"></i>');n.onclick=()=>{this.component.className="carFactoryInitial",this.changePage(this.currentPage+1)},n.disabled=this.currentPage===this.totalPages;const s=i.Pf("page-info",`Page ${this.currentPage} sur ${this.totalPages}`);return e.append(t,s,n),e}changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.loadCars())}setupSearchListener(){this.parentComponent.addEventListener("search",(e=>{this.handleSearch(e.detail.searchTerm)}))}handleSearch(e){this.searchTerm=e,this.currentPage=1,this.loadCars()}loadCars(){this.component.className="carFactoryInitial";let e=new p,t=i.Pf("empty_message","Aucune voiture trouvée dans cette agence"),n=i.Pf("empty_message","Aucune voiture trouvée"),s=new FormData;const a=JSON.parse(i.N_.get("user"));s.append("agency",a.id),s.append("page",this.currentPage),s.append("pageSize",this.pageSize),s.append("searchTerm",this.searchTerm),this.component.innerHTML="",this.component.appendChild(e.getHTML()),i.WL("/agency/getAllCars","GET",s,(e=>{e=JSON.parse(e),this.component.innerHTML="",!e.hasOwnProperty("code")||3!=e.code&&-1!=e.code?(this.component.className="carFactoryFinal",this.totalPages=e.pagination.totalPages,this.component.append(i.om(null,"carFactoryGrid",[...this.#y(e.cars)])),this.component.appendChild(this.#C())):""===this.searchTerm?this.component.appendChild(t):this.component.appendChild(n)}),(()=>{}))}create(){this.component=i.om(null,"carFactoryInitial"),this.loadCars(),this.setupSearchListener()}}class v extends i.uA{#x;constructor(e){super(),this.implementationPoint=e,this.path="/parking",this.#x=new h("create",e),this.addSubroute(this.#x),this.create()}create(){this.component=i.om(null,"v_vicles_activity",[]);let e=new c('<i class="ri-search-2-line"></i>',"Recherche","text",[],"v_parking_search"),t=new r(null,"v_parking_regular_btn v_parking_pos1",'<i class="ri-filter-2-line"></i>',"Filtrer",(()=>{})),n=new r(null,"v_parking_regular_btn v_parking_pos2",'<i class="ri-import-line"></i>',"Importer",(()=>{})),s=new r(null,"v_parking_regular_btn v_parking_pos3",'<i class="ri-export-line"></i>',"Exporter",(()=>{})),a=new r(null,"v_parking_main_btn v_parking_pos4",'<i class="ri-add-large-line"></i>',"Ajouter",(()=>{})),l=i.P7("/parking/add","add"),o=i.om(null,"v_parking_controls_buttons",[t.getHTML(),n.getHTML(),s.getHTML(),a.getHTML()]),d=i.om(null,"v_parking_controls",[e.getHTML(),o]),u=new m(this.component);this.#x.connectedComponents.car_factory=u,e.getField().addEventListener("keyup",(()=>{this.debounceSearch(e.getField().value)})),a.getHTML().onclick=()=>{l.click()},this.component.append(d,u.getHTML())}debounceSearch(e){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((()=>{this.performSearch(e)}),300)}performSearch(e){this.component.dispatchEvent(new CustomEvent("search",{detail:{searchTerm:e.trim()},bubbles:!0}))}}class g extends i.uA{constructor(e){super(),this.implementationPoint=e,this.path="/history",this.create()}create(){this.component=i.om(null,"v_vicles_activity",[new l("Historique").getHTML()])}}class f extends i.uA{constructor(e){super(),this.implementationPoint=e,this.path="/staff",this.create()}create(){this.component=i.om(null,"v_vicles_activity",[new l("Personnel").getHTML()])}}class b extends i.uA{constructor(e){super(),this.implementationPoint=e,this.path="/settings",this.create()}create(){this.component=i.om(null,"v_vicles_activity",[new l("Paramètres").getHTML()])}}var w=n(3508);class y extends i.uA{static instance=null;notification_alert;socket;constructor(e){if(null!==y.instance)return y.instance;super(),this.notification_alert=e,this.socket=void 0,this.create(),y.instance=this}#L(e,t,n){const s=i.x6(null,"vicles_iconed_label_icon",null,t),a=i.Pf("vicles_iconed_label_label",n);return i.om(e,"styleClass",[s,a])}#N(e){const t=new Date(e.start_date),n=new Date(e.end_date);let a=this.#L("renterName",'<i class="ri-id-card-line"></i>',e.renter),l=this.#L("carFullModel",'<i class="ri-roadster-line"></i>',e.brand+" "+e.model),o=this.#L("renterPhone",'<i class="ri-phone-line"></i>',e.phone),c=i.Pf("vicles_car_plate",e.plate.replaceAll("-"," | ")),u=this.#L("startDate",'<i class="ri-flag-line"></i>',t.toLocaleDateString("fr-MA")),p=this.#L("endDate",'<i class="ri-flag-off-line"></i>',n.toLocaleDateString("fr-MA")),h=this.#L("total",'<i class="ri-equal-line"></i>',function(e,t){const n=(t-e)/864e5;return Math.round(n)}(t,n)+" Jours"),_=i.om(null,"vicles_notification_card_dates",[u,p,h]),m=new r(null,"vicles_notification_card_accept",'<i class="ri-check-line"></i>',"Accpeter",(()=>{const t=new d('<i class="ri-calendar-check-line"></i>',"Confirmer la reservation","vicles_car_delete_window","modal"),n=i.Pf("vicles_car_delete_message","Confirmez la reservation par appel avec le client."),a=i.x6(null,"vicles_car_approve_delettion","Annuler"),l=i.x6(null,"vicles_car_cancel_delettion","Confirmer"),o=i.om(null,"vicles_car_deletion_actions_container",[l,a]);a.onclick=()=>{t.getHTML().parentNode.removeChild(t.getHTML())},l.onclick=()=>{const n=new FormData;n.append("rental",e.rental_id),n.append("notification",e.notification_id),i.WL("/renters/acceptBooking","POST",n,(e=>{if(0===JSON.parse(e).code)t.getHTML().parentNode.removeChild(t.getHTML());else{const e=new s("/assets/oops.webp","Erreur","Une erreur inconnue est survenue","OK!",(e=>{e.parentNode.removeChild(e)}));i.yA.append(e.getHTML())}}),(()=>{}))},t.appZone.append(n,o),i.yA.append(t.getHTML())})),v=new r(null,"vicles_notification_card_cancel",'<i class="ri-close-line"></i>',"Annuler",(()=>{const t=new d('<i class="ri-calendar-close-line"></i>',"Annuler la reservation","vicles_car_delete_window","modal"),n=i.Pf("vicles_car_delete_message","L'annulation d'une location est irreversible"),a=i.x6(null,"vicles_car_approve_delettion","Supprimer"),l=i.x6(null,"vicles_car_cancel_delettion","Annuler"),o=i.om(null,"vicles_car_deletion_actions_container",[l,a]);l.onclick=()=>{t.getHTML().parentNode.removeChild(t.getHTML())},a.onclick=()=>{const n=new FormData;n.append("rental",e.rental_id),n.append("notification",e.notification_id),i.WL("/renters/cancelBooking","POST",n,(e=>{if(0===JSON.parse(e).code)t.getHTML().parentNode.removeChild(t.getHTML());else{const e=new s("/assets/oops.webp","Erreur","Une erreur inconnue est survenue","OK!",(e=>{e.parentNode.removeChild(e)}));i.yA.append(e.getHTML())}}),(()=>{}))},t.appZone.append(n,o),i.yA.append(t.getHTML())})),g=i.om(null,"vicles_notification_card_controls",[m.getHTML(),v.getHTML()]);return i.om(null,"vicles_notification_card",[a,o,l,_,c,g])}create(){let e=i.Pf("vicles_notification_center_title","Centre de notifications"),t=i.om(null,"vicles_notification_center_notifs_container",[]),n=i.om(null,"vicles_notification_center_backgound",[]),s=i.om(null,"vicles_notification_center",[e,t]);this.component=i.om(null,"vicles_notifications",[s,n]),n.onclick=()=>{this.component.parentNode.removeChild(this.component)};const a=(0,w.io)("http://localhost:3001",{withCredentials:!0,transports:["websocket"]});this.socket=a,a.on("connect",(()=>{const e=JSON.parse(i.N_.get("user"));a.emit("establish",{user_id:e.id})})),a.on("disconnect",(()=>{})),a.on("notifs",(e=>{this.#k(e,t)}))}#k(e,t){if(e.notifications.hasOwnProperty("status"))this.notification_alert.className="vicles_notifications_alert_hidden",t.textContent="Aucune nouvelle ici";else{this.notification_alert.className="vicles_notifications_alert_visible",t.innerHTML="";for(const n of e.notifications)t.append(this.#N(n))}}}class C extends i.uA{#w;active_tab;notifications;constructor(e){super(),this.#w=e,this.path="/",this.active_tab=null,this.notifications=void 0,this.create()}#P(e,t,n,i,s,a){location.pathname.includes("/parking")?(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),t.className+=" v_active_tab",this.active_tab=t,a.textContent="Parking"):location.pathname.includes("/staff")?(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),n.className+=" v_active_tab",this.active_tab=n,a.textContent="Personnel"):location.pathname.includes("/history")?(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),i.className+=" v_active_tab",this.active_tab=i,a.textContent="Historique"):location.pathname.includes("/settings")?(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),s.className+=" v_active_tab",this.active_tab=s,a.textContent="Paramètres"):(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),e.className+=" v_active_tab",this.active_tab=e,a.textContent="Statistiques")}#T(e,t){let n=i.x6(null,"v_vicles_activity_navigation v_stats",null,'<i class="ri-file-chart-line"></i>'),s=i.x6(null,"v_vicles_activity_navigation v_park",null,'<i class="ri-parking-box-line"></i>'),a=i.x6(null,"v_vicles_activity_navigation v_staff",null,'<i class="ri-group-3-line"></i>'),l=i.x6(null,"v_vicles_activity_navigation v_hist",null,'<i class="ri-history-fill"></i>'),o=i.x6(null,"v_vicles_activity_navigation v_settings",null,'<i class="ri-settings-2-line"></i>'),r=i.x6(null,"v_vicles_activity_navigation v_logout",null,'<i class="ri-logout-circle-line"></i>');return setInterval((()=>{this.#P(n,s,a,l,o,e)}),60),this.#P(n,s,a,l,o,e),n.onclick=()=>{this.active_tab!==n&&(i.QB.push("/"),n.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=n,e.textContent="Statistiques")},s.onclick=()=>{this.active_tab!==s&&(i.QB.push("/parking"),s.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=s,e.textContent="Parking")},a.onclick=()=>{this.active_tab!==a&&(i.QB.push("/staff"),a.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=a,e.textContent="Personnel")},l.onclick=()=>{this.active_tab!==l&&(i.QB.push("/history"),l.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=l,e.textContent="Historique")},o.onclick=()=>{this.active_tab!==o&&(i.QB.push("/settings"),o.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=o,e.textContent="Paramètres")},r.onclick=()=>{i.N_.delete("user"),i.QB.push("/"),this.#w.rerender()},[n,s,a,l,o,r]}create(){const e=i.R_(1,"v_vicles_logo","Vicles"),t=i.Pf("v_vicles_title",""),n=i.x6(null,"v_vicles_notifs",null,'<i class="ri-notification-3-line"></i>'),s=i.om(null,"vicles_notifications_alert_hidden",[]),a=i.Sl(null,"v_vicles_agency_logo",""),l=i.om(null,"v_vicles_header",[e,t,n,a]),r=i.om(null,"v_vicles_activity_container",[]),c=this.#T(t,r),d=i.om(null,"v_vicles_navbar",c);i.N_.get("user").logo?a.src=i.N_.get("user").logo:a.src="/assets/tmp_logo.webp",n.append(s),this.notifications=new y(s),this.component=i.om(null,"v_vicles_app",[l,d,r]),this.addSubroute(new o(r)),this.addSubroute(new v(r)),this.addSubroute(new g(r)),this.addSubroute(new f(r)),this.addSubroute(new b(r)),n.onclick=()=>{this.component.append(this.notifications.getHTML())}}}class x extends i.uA{constructor(){super(),this.create()}create(){const e=i.R_(1,"v_logo v_spalsh_animation","Vicles");this.component=i.om(null,"v_splash",[e])}}class L extends i.uA{onReady;constructor(){super(),this.onReady=void 0,this.create()}async#A(e,t,n){const s=await i.$A(),a=i.N_.get("user"),l=n();if(null===a)i.yA.removeChild(l),t();else{let n=new FormData;n.append("fingerprint",s),new i.WL("/agency/checkauth","GET",n,(n=>{JSON.parse(n).hasOwnProperty("code")?(i.yA.removeChild(l),t()):(i.yA.removeChild(l),e())}),(()=>{}))}}create(){this.#A((()=>{const e=new C(this);this.subroutes=e.subroutes,this.path=e.path,this.component=e.component,void 0!==this.onReady&&this.onReady()}),(()=>{const e=new a("Login","/",this),t=i.Sl(null,"v_login_image","/assets/bg2.webp");this.addSubroute(new a("Register","/register")),this.path=e.path,this.component=i.om(null,"v_home",[t,e.getHTML()]),void 0!==this.onReady&&this.onReady()}),(()=>{const e=new x;return i.yA.append(e.getHTML()),e.getHTML()}))}}class N extends i.uA{constructor(){super(),this.create()}create(){let e=i.Sl(null,"v_404_image","/assets/404.svg"),t=i.Pf("v_404_message","Vous êtes perdu dans l'univers de Vicles"),n=i.x6(null,"v_404_back","Retournez à la terre");n.onclick=()=>{i.QB.push("/")},this.component=i.om(null,"v_404_page",[e,t,n])}}n.e(217).then(n.bind(n,4217)),i.LK((()=>{let e=new L,t=new N;e.onReady=()=>{new i.QB(e,t).watch()}}))},8919:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$A:()=>Fingerprint,DU:()=>textBox,Dr:()=>Validator,LK:()=>entrypoit,N_:()=>prefs,P7:()=>toRoute,Pf:()=>label,QB:()=>router,R_:()=>heading,Sl:()=>image,VQ:()=>isArabic,WL:()=>brdige,ms:()=>Dropdown,om:()=>block,p_:()=>list,pm:()=>Preferences,uA:()=>Component,x6:()=>button,yA:()=>app});var _babel_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6416),_babel_core__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_core__WEBPACK_IMPORTED_MODULE_0__);function create(e){return document.createElement(e)}class Validator{#S;#M;#I;#E;#H;#D;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.#S=e,this.#M=t,this.#I=n,this.#E=i,this.#D=s}#F(e){return"input"===e.tagName.toLowerCase()&&"button"!==e.type.toLowerCase()&&"submit"!==e.type.toLowerCase()&&"reset"!==e.type.toLowerCase()&&"image"!==e.type.toLowerCase()&&null!==e.getAttribute("required")}validate(){let e=!0;for(const t of this.#S.getElementsByTagName("input")){const n=t.type;if(this.#H=!0,this.#F(t)){if("file"===t.type.toLowerCase()&&0===t.files.length?this.#H=e=!1:"radio"!==t.type.toLowerCase()&&"checkbox"!==t.type.toLowerCase()||t.checked?""===t.value&&(this.#H=e=!1):this.#H=e=!1,null===t.getAttribute("condition")||this.#D[t.getAttribute("condition")](t)||(this.#H=e=!1),!this.#H){if(this.#E)break;this.#M(t,n)}if(this.#H){if(this.#E||null===this.#I)break;this.#I(t,n)}}}return!!e||(this.#E&&this.#M(),!1)}}class Preferences{static instance=null;#O;constructor(){if(this.#O={},null!==localStorage.getItem("b_preferences")&&(this.#O=JSON.parse(localStorage.getItem("b_preferences"))),null!==Preferences.instance)return Preferences.instance;Preferences.instance=this}add(e,t){this.#O[e]=t,localStorage.b_preferences=JSON.stringify(this.#O)}get(e){return this.#O.hasOwnProperty(e)?this.#O[e]:null}delete(e){return!!this.#O.hasOwnProperty(e)&&(delete this.#O[e],localStorage.b_preferences=JSON.stringify(this.#O),!0)}}async function Fingerprint(){const e=getCanvasFingerprint(),t=getWebGLFingerprint(),n=[...[navigator.userAgent,[screen.width,screen.height,screen.colorDepth].join("x"),navigator.language,Intl.DateTimeFormat().resolvedOptions().timeZone,navigator.platform,navigator.hardwareConcurrency,navigator.deviceMemory,navigator.maxTouchPoints],e,t,Array.from(navigator.plugins).map((e=>e.name)).join(","),detectFonts(),await getBatteryInfo()].join("###"),i=(new TextEncoder).encode(n),s=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(s)).map((e=>e.toString(16).padStart(2,"0"))).join("")}function getCanvasFingerprint(){const e=document.createElement("canvas"),t=e.getContext("2d");return t.textBaseline="top",t.font="14px Arial",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText("fingerprint",2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText("fingerprint",4,17),e.toDataURL()}function getWebGLFingerprint(){const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return"WebGL not supported";const n=t.getExtension("WEBGL_debug_renderer_info");return n?t.getParameter(n.UNMASKED_RENDERER_WEBGL):"WebGL fingerprint not available"}function detectFonts(){const e=["monospace","sans-serif","serif"],t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",t.style.top="-10000px",t.style.left="-10000px",t.style.fontSize="12px",t.innerHTML="abcdefghijklmnopqrstuvwxyz0123456789",document.body.appendChild(t);const n=["Arial","Helvetica","Times New Roman","Courier","Verdana","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Arial Black","Impact"].filter((n=>{let i=!1;for(let s=0;s<e.length;s++)if(t.style.fontFamily=`${n},${e[s]}`,t.offsetWidth!==e.map((e=>(t.style.fontFamily=e,t.offsetWidth)))[s]){i=!0;break}return i}));return document.body.removeChild(t),n.join(",")}async function getBatteryInfo(){if("getBattery"in navigator)try{const e=await navigator.getBattery();return`${e.charging},${e.level}`}catch(e){return"Battery API not supported"}return"Battery API not available"}let prefs=new Preferences;prefs.get("language")||prefs.add("language",navigator.language.split("-")[0]);const app=getId("App"),api="http://localhost:3000";function getId(e){return document.getElementById(e)}function getSelector(e){return document.querySelectorAll(e)}function list(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=create(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"ul":"ol"),null!==i&&(e.id=i),e.className=n;for(const n of t){const t=create("li");t.textContent=n,e.appendChild(t)}return e}function object(e,t){let n=create("object");return n.data=e,n.type=t,n}function paragraph(e,t,n){let i=create("p");return"%bcode%"===n.substring(0,7).toLowerCase()?i=bcode(n=n.substring(7,n.length)):"%html%"===n.substring(0,6).toLowerCase()?i.innerHTML=n.substring(6,n.length):i.textContent=n,e&&(i.id=e),t&&(i.className=t),i}function jsonFile(e,t,n){let i=new XMLHttpRequest;i.open("GET",e,!1),i.onreadystatechange=()=>{200===i.status?t(i.responseText):n(i.statusText,i.responseText)},i.send()}function textBox(e,t,n,i){let s=create("input");return s.type=n,null!==e&&(s.id=e),s.placeholder=t,s.className=i,s}function image(e,t,n){let i=create("img");return null!==e&&(i.id=e),i.className=t,i.src=n,i.alt="",i}function block(e,t,n){let i=create("div");return null!==e&&(i.id=e),i.className=t,null!=n&&n.forEach((e=>{i.append(e)})),i}function button(e,t,n,i){let s=create("button");return null!==e&&(s.id=e),s.className=t,null!==n?s.textContent=n:null!==i&&(s.innerHTML=i),s.title="",s}function heading(e,t,n){let i=create("h"+e);return null!==t&&(i.className=t),i.textContent=n,i}function anchor(e,t,n,i){let s=create("a");return e&&(s.id=e),t&&(s.className=t),s.href=n,s.textContent=i,s}function textArea(e,t,n){let i=create("textarea");return e&&(i.id=e),i.className=t,i.placeholder=n,i}function brdige(e,t,n,i,s){let a=new XMLHttpRequest;if("GET"===t||"DELETE"===t){let l=new URLSearchParams;n.forEach(((e,t)=>{l.append(t,e)})),e+="?"+l.toString(),a.open(t,api+e),a.withCredentials=!0,a.onload=function(){200===a.status&&4===a.readyState?i(a.responseText):s(a.status)},a.send()}else{if("POST"!==t&&"PUT"!==t)throw new Error("Unsupported HTTP method");a.open(t,api+e),a.withCredentials=!0,a.onload=function(){200===a.status&&4===a.readyState?i(a.responseText):s(a.status)},a.send(n)}}function Option(e,t){let n=create("option");return n.value=e,n.textContent=t,n}function select(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=create("select");return null!==e&&(i.id=e),null!==t&&(i.className=t),null!==n&&n.forEach((e=>{let t=Option(e.value,e.text);i.append(t)})),i}function table(e,t,n){let i=create("table");return e&&(i.id=e),i.className=t,n&&n.forEach((e=>{i.append(e)})),i}function tableRow(e,t,n){let i=create("tr");return e&&(i.id=e),i.className=t,n&&n.forEach((e=>{i.append(e)})),i}function tableData(e,t,n){let i=create("td");return e&&(i.id=e),i.className=t,"string"==typeof n?i.textContent=n:i.append(n),i}function label(e,t){let n=document.createElement("span");return n.textContent=t,n.className=e,n}function audio(e,t,n){let i=create("audio");return e&&(i.id=e),t&&(i.className=t),i.src=n,i}function canvas(e){let t=document.createElement("canvas");return t.className=e,t}function isArabic(e){return!!/[\u0600-\u06FF]/.test(e)}function toBase64(e,t){let n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}function resizeImage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:200},i=canvas("builderSpecialCanvas"),s=new Image;i.width=n.width,s.onload=function(){i.height=n.width*(s.height/s.width);let e=i.height;i.getContext("2d").drawImage(s,0,0,n.width,e),t(i.toDataURL("image/jpeg",1))},s.src=e}function entrypoit(e){document.onreadystatechange=function(){"complete"===document.readyState&&e()}}function alert(e,t,n,i,s){let a=label("alertMessage",e),l=button(null,"alertOKEY alertButton",t,null),o=button(null,"alertNO alertButton",n,null),r=block("alertContainer","alertContainer",[a,l,o]),c=block("alertPlatform","builderAlert",[r]);app.append(c),o.onclick=()=>{s(c)},l.onclick=()=>{i(c)}}function insertStyle(e){let t=document.createElement("link");t.rel="stylesheet",t.href=e+"?v="+Math.random(),document.head.append(t)}function insertScript(e,t){let n=document.createElement("script");n.type=t,n.src=e+"?v="+Math.random(),document.body.append(n)}class Errors{static exists=null;static wrongCredential=null;static failure=null;static invalidSession=null;static validSession=null}function toRoute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=create("a");return i&&(a.id=i),s&&(a.className=s),"append"===n&&(e=location.pathname+e),a.textContent=t,a.onclick=t=>{t.preventDefault(),history.pushState("","",e)},a}class Component{component;path;subroutes;connectedComponents;implementationPoint;subrouteOnPath;hasQueryParams;constructor(){this.component=null,this.path=null,this.hasQueryParams=!1,this.subroutes=[],this.implementationPoint=null,this.subrouteOnPath=!1,this.connectedComponents={}}addSubroute(e){this.subroutes.push(e)}create(){this.component=null}getHTML(){return this.component}rerender(){let e=this.component;this.create(),e.replaceWith(this.component),e.parentNode&&e.parentNode.removeChild(e)}findRoute(e){const t=e;if(this.path===t)return this;for(const e of this.subroutes){if(e.path===t)return e;if(!0===e.hasQueryParams)return e}return null}hasRoute(e){let t=e[0];if(this.subroutes.forEach((e=>{e.component.parentNode===this.component&&this.component.removeChild(e.component)})),e.length>1){e=e.slice(1);for(let t=0;t<this.subroutes.length;t++){e.forEach((e=>{if(this.subroutes[t].path===e)return this.component.append(this.subroutes[t].getHTML()),this.subroutes[t]}));let n=this.subroutes[t].hasRoute(e);if(n)return this.component.append(n),this}return null}return this.path===t?(this.subroutes.forEach((e=>{e.component.parentNode===this.component&&this.component.removeChild(e.component)})),this):null}}function riseEvent(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];e[t](...i)}class Dropdown extends Component{#V;#_;#h;#R;#B;#z;#q;#j;#W;static OPEN=1;static CLOSE=0;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(),null!==t?0!==i.length?s||typeof s===Function?n?(this.#V=e,this.#_=t,this.#B=i[0].value,this.#z=[],this.#R=Dropdown.CLOSE,this.#h=n,this.#q=i,this.#W=s,this.#q.forEach((e=>{this.#z.push(s(e))})),this.create()):console.error("The dropdown icon must be specified [innerHTML]"):console.error("An adapter must be specified"):console.error("Items must be defined."):console.error("styleClass attribute must be defined.")}rerender(){let e=this.component;this.create(),e.parentNode&&e.parentNode.replaceChild(this.component,e)}#U(e){return this.#z.find((t=>t.getAttribute("itemValue")===e))}setValue(e){const t=this.#U(e);void 0!==this.#U(e)&&(this.#j.replaceChildren(t.cloneNode(!0)),riseEvent(this,"onChange",t.getAttribute("itemValue"),t.textContent))}updateItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0&&(this.#q=e,this.#z=[],this.#q.forEach((e=>{this.#z.push(this.#W(e))})),this.rerender())}create(){let e=button(null,"b_dropIcon",null,this.#h),t=block(null,"b_currentItem",null),n=block(null,"b_selectedValue",[t,e]),i=block(null,"b_listItems",[]),s=block(this.#V,"b_dropdown",[n,i]);s.classList.add(...this.#_.split(" ")),this.#j=t,i.append(...this.#z),n.onclick=()=>{this.#R===Dropdown.CLOSE?(i.style="display: block !important;",this.#R=Dropdown.OPEN):this.#R===Dropdown.OPEN&&(i.removeAttribute("style"),this.#R=Dropdown.CLOSE)},this.#z.forEach((e=>{e.onclick=()=>{t.replaceChildren(e.cloneNode(!0)),n.click(),riseEvent(this,"onChange",e.getAttribute("itemValue"),e.textContent)}})),t.append(this.#z[0].cloneNode(!0)),this.component=s}}class router{#J;#Q;#$;static old;constructor(e,t){this.#$=t,this.#J=e,this.old=e.path,this.#Q=null}updateOLD(){this.old=document.location.pathname}watch(){this.resolve("/"),window.onpopstate=()=>{null!==this.#Q&&null!==this.#Q.component.parentNode&&(this.#Q.component.parentNode.removeChild(this.#Q.component),this.#Q=null)},setInterval((()=>{let e=document.location.pathname;e!==this.old&&(null!==this.#Q&&null!==this.#Q.component.parentNode&&(this.#Q.component.parentNode.removeChild(this.#Q.component),this.#Q=null),this.old=e,this.resolve(e))}),60)}#G(e){let t=[];for(let n=0;n<e.length;n++){const i=e[n];""===i&&0!==n||t.push("/"+i)}return t}resolve(e){let t,n,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("default"===s)t=this.#G(e.split("/")),n=this.#J.findRoute(t[0]),this.resolve(["/"],"beta",n),i=app;else if("alpha"===s)n=a,t=e,n=n.findRoute(t[0]),i=app;else if("beta"===s){n=a,t=e;let s=null;for(const e of n.subroutes)if(e.path===t[0]){s=e;break}if(null===s)return 0;n=s,i=app}null!==this.#Q&&n&&this.#Q.component.parentNode&&this.#Q.subroutes.includes(n.path)&&(this.#Q.component.parentNode.removeChild(this.#Q.component),this.#Q=null),null!==n&&(n!==this.#J&&(this.#Q=n),n.implementationPoint&&(i=n.implementationPoint)),n||"beta"===s?(app===this.#$.component.parentNode&&app.removeChild(this.#$.component),i.append(n.component),t.length>1&&"beta"!==s&&(t=t.splice(1),this.resolve(t,"alpha",n))):(app===this.#J.component.parentNode&&app.removeChild(this.#J.component),app.append(this.#$.component))}static push(e){history.pushState("","",e)}}function provisory(){let e=create("span");return e.className="provisory",e}function bcode(input){const placeholderRegex=/%([^%:]+):([^%]+)%/g;let calls=[];const result=input.replace(placeholderRegex,((e,t,n)=>{const i=n.split(":");return calls.push({func:t,args:i}),provisory().outerHTML}));let p=paragraph(null,null,"");p.innerHTML=result;let provs=p.querySelectorAll(".provisory");return provs.forEach(((e,i)=>{e.replaceWith(eval(calls[i].func)(...calls[i].args))})),p}},9971:()=>{},8411:()=>{}},e=>{e.O(0,[447],(()=>{return t=5076,e(e.s=t);var t}));e.O()}]);