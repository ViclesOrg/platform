(self.webpackChunkvicles=self.webpackChunkvicles||[]).push([[792],{6399:(e,t,n)=>{"use strict";var i=n(8919);class l extends i.uA{#e;#t;#n;#i;#l;constructor(e,t,n,i,l){super(),this.#e=e,this.#t=t,this.#n=n,this.#i=i,this.#l=l,this.create()}create(){let e=i.Sl(null,"v_floatingMessage_image",this.#e),t=i.Pf("v_infoTitle",this.#t),n=i.Pf("v_infoMessage",this.#n),l=i.x6(null,"v_infoButton",this.#i,null),s=i.om(null,"v_floatingMessage_text_container",[t,n,l]);l.onclick=()=>{this.#l(this.component)},this.component=i.om(null,"v_floatingMessage",[e,s])}}class s extends i.uA{#s;parent;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.#s=e,this.path=t,this.parent=n,this.create()}#a(){return[{value:"fr",text:"Fr"},{value:"en",text:"En"},{value:"ar",text:"ع"}]}#o(e){let t=i.Pf("languagesMenu",e.text),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(t.style.direction="rtl"),n.setAttribute("itemValue",e.value),n}#r(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=i.x6(null,"v_fieldIcon_L",null,e),r=i.DU(null,t,n,"v_iconedfield"),c=i.x6(null,"v_fieldIcon_R invisible",null,'<i class="ri-alarm-warning-line"></i>'),u=i.om(null,"v_iconField "+s,[o,r,c]);if(l.length>0){let e=i.om(null,"v_logsign_instructions",[i.p_(l,"v_instructions_list")]);u.append(e)}return r.setAttribute("required",""),void 0!==a&&r.setAttribute("condition",a),u}#c(){let e={email:e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.value.toLowerCase()),password:e=>/^(?=(.*[A-Z]){2})(?=(.*\d){2})(?=(.*[!@#$%^&*(),.?":{}|<>]){2})[A-Za-z\d!@#$%^&*(),.?":{}|<>]{8,}$/.test(e.value)};return e}#u(e){return e.getElementsByClassName("v_iconedfield")[0].value}create(){let e,t=i.R_(1,"v_logo","Vicles"),n=new i.ms(null,"v_langs_menu",'<i class="ri-earth-line"></i>',this.#a(),this.#o),s=i.om(null,"v_login_head",[]),a=i.x6(null,"v_signup_return",null,'<i class="ri-arrow-left-line"></i>'),o=i.om(null,"v_signup_return_container",[a]),r=i.R_(2,"v_heading v_home_login_container_pos1","Bievenue"),c=i.R_(1,"v_heading v_home_login_container_pos2","Connectez vous"),u=this.#r('<i class="ri-font-size"></i>',"Raison sociale","text",["Ce champ est obligatoire."],"v_login_agency_name"),d=this.#r('<i class="ri-registered-line"></i>',"Registre de commerce","text",["Ce champ est obligatoire."],"v_login_rc"),p=this.#r('<i class="ri-at-line"></i>',"Adresse mail","email",["Ce champ est obligatoire.","L'email doit être valide","Jamais utilisée sur Vicles"],"v_login_email","email"),h=this.#r('<i class="ri-key-2-line"></i>',"Mot de passe","password",["Ce champ est obligatoire.","Au moin 8 caractères","2 symbole","2 alphabet majiscule","2 numéro"],"v_login_password","password"),_=this.#r('<i class="ri-map-pin-2-line"></i>',"Adresse","text",["Ce champ est obligatoire."],"v_login_address"),m=i.DU(null,"","checkbox","v_checkbox"),v=i.Pf("v_default_text","Se Souvenir de moi"),g=i.om(null,"v_keepmeSignedin",[m,v]),f=i.DU(null,"","checkbox","v_checkbox"),b=i.P7("/terms","conditions d'utilisation",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),w=i.Pf("v_default_text","J'accepte toutes les "),x=i.om(null,"v_keepmeSignedin",[f,w]),y=i.x6(null,"v_medium_button orange","Connecter",null),C=i.Pf("v_home_or_label","OR"),N=i.x6(null,"v_medium_button blue","Créer un compte"),k=i.om(null,"v_login_block",[]),A=i.om(null,"v_login_block_container",[r,c,k]),L=i.Pf("v_default_text v_size_2 v_text_align_center","ver: 1.0.0"),I=i.P7("/about","À propos",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),P=i.P7("/register","",null,null,""),E=i.P7("/contact","Contactez-nous",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),S=i.P7("/privacy","Confidentialité",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),T=i.P7("/terms","Conditions",null,null,"v_default_text v_size_2 v_text_align_center v_pointer"),D=i.om(null,"v_home_footer",[]);if(p.onclick=()=>{p.getElementsByClassName("v_iconedfield")[0].click()},w.append(b),h.onclick=()=>{h.getElementsByClassName("v_iconedfield")[0].click()},"Register"===this.#s){A.insertBefore(o,r),r.textContent="Bon choix!",r.className="v_heading v_home_signup_container_pos1",c.textContent="Créez un compte",c.className="v_heading v_home_signup_container_pos2",N.textContent="Créer",k.className="Signup_block",k.append(u,d,p,h,_,x,N),e="v_mutable_panel_register",f.setAttribute("required","");const t=new i.Dr(k,((e,t)=>{if("checkbox"!==t){const t=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];t.className=t.className.replace("invisible","red")}else e.parentNode.className+=" circle_over_danger"}),((e,t)=>{if("checkbox"!==t){const t=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];t.className=t.className.replace("red","invisible")}else e.parentNode.className="v_keepmeSignedin"}),!1,this.#c()),n=new l("/assets/welcome_1.webp","Compte créé avec succés","Un email de confirmation vous a été envoyé à votre boite mail","OK!",(e=>{e.parentNode.removeChild(e)})),s=new l("/assets/oops.webp","Agence existe déja","L'une des données utilisées (email, RC, raison sociale) pour créer le compte est déja utilisée par une autre agence.","OK!",(e=>{e.parentNode.removeChild(e)}));N.onclick=()=>{if(t.validate()){let e=new FormData;e.append("name",this.#u(u)),e.append("rc",this.#u(d)),e.append("email",this.#u(p).toLowerCase()),e.append("password",this.#u(h)),e.append("address",this.#u(_)),new i.WL("/agency/create","POST",e,(e=>{const t=JSON.parse(e);0===t.code?(history.back(),i.yA.append(n.getHTML())):1===t.code&&i.yA.append(s.getHTML())}),(()=>{}))}},a.onclick=()=>{history.back()}}else{let n=this.#r('<i class="ri-at-line"></i>',"Adresse mail","email",["Ce champ est obligatoire."],"v_login_email","email"),a=this.#r('<i class="ri-key-2-line"></i>',"Mot de passe","password",["Ce champ est obligatoire."],"v_login_password");k.append(n,a,g,y,C,N),D.append(L,I,E,S,T),s.append(t),N.onclick=()=>{P.click()},e="v_mutable_panel";const o=new i.Dr(k,((e,t)=>{const n=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];n.className=n.className.replace("invisible","red")}),((e,t)=>{const n=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];n.className=n.className.replace("red","invisible")}),!1,this.#c());y.onclick=async()=>{if(o.validate()){let e=new FormData;e.append("email",this.#u(n).toLowerCase()),e.append("password",this.#u(a)),e.append("fingerprint",await i.$A());const t=new l("/assets/oops.webp","Données erronées","Email ou mot de passe incorrecte","OK!",(e=>{e.parentNode.removeChild(e)}));new i.WL("/agency/login","GET",e,(e=>{const n=JSON.parse(e);n.hasOwnProperty("code")?i.yA.append(t.getHTML()):(i.N_.add("user",JSON.stringify(n)),this.parent.rerender())}),(()=>{}))}}}n.onChange=e=>{(new i.pm).add("language",e),this.parent.rerender()},n.setValue(i.N_.get("language")),this.component=i.om(null,e,[s,A,D])}}class a extends i.uA{constructor(e){super(),this.path="/",this.implementationPoint=e,this.create()}create(){let e=i.R_(1,"","Statistics");this.component=i.om(null,"v_vicles_activity",[e])}}class o extends i.uA{icon;id;styleClass;text;onclick;constructor(e,t,n,i,l){super(),this.icon=n,this.id=e,this.styleClass=t,this.text=i,this.onclick=l,this.create()}create(){const e=i.x6(null,"v_iconedButton_icon",null,this.icon),t=i.Pf("v_iconedButton",this.text);this.component=i.om(this.id,this.styleClass,[e,t])}}class r extends i.uA{fieldIcon;fieldHint;fieldType;instructions;className;condition;constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;super(),this.fieldIcon=e,this.fieldHint=t,this.fieldType=n,this.instructions=i,this.className=l,this.concondition=s,this.create()}create(){let e=i.x6(null,"v_fieldIcon_L",null,this.fieldIcon),t=i.DU(null,this.fieldHint,this.fieldType,"v_iconedfield"),n=i.x6(null,"v_fieldIcon_R invisible",null,'<i class="ri-alarm-warning-line"></i>'),l=i.om(null,"v_iconField "+this.className,[e,t,n]);if(this.instructions.length>0){let e=i.om(null,"v_logsign_instructions",[i.p_(this.instructions,"v_instructions_list")]);l.append(e)}t.setAttribute("required",""),void 0!==this.condition&&t.setAttribute("condition",this.condition),this.component=l}}class c extends i.uA{#t;#d;#p;appZone;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";super(),this.#d=e,this.#t=t,this.#p=n,this.create()}create(){let e=i.x6(null,"v_vicles_window_icon",null,this.#d),t=i.Pf("v_vicles_window_title",this.#t),n=i.x6(null,"v_vicles_window_close",null,'<i class="ri-close-circle-line"></i>'),l=i.om(null,"v_vicles_window_titlebar",[e,t,n]),s=i.om(null,"v_vicles_window_zone",[]),a=i.om(null,"v_vicles_window "+this.#p,[l,s]),o=i.om(null,"v_vicles_window_background",[]);this.appZone=s,this.component=i.om(null,"v_vicles_window_platform",[o,a]),o.onclick=()=>{history.back()},n.onclick=()=>{history.back()}}}class u extends i.uA{#h;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"create",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(),"create"===e?this.path="/add":"edit"===e&&(this.path="/edit"),this.#h=n,this.implementationPoint=t,this.create()}#c(){let e={plate:e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.value.toLowerCase())};return e}create(){let e,t,n,l,s=new c('<i class="ri-add-large-line"></i>',"Ajouter une voiture","v_vicles_carInfo"),a=i.om(null,"v_vicles_car_brand_model_container",[]),o=new r('<i class="ri-hashtag"></i>',"Matricule","text",[],"v_vicles_carInfo_inputs"),u=new r('<i class="ri-calendar-schedule-line"></i>',"Année du model","number",[],"v_vicles_carInfo_inputs"),d=new r('<i class="ri-sofa-line"></i>',"Nombre de places","number",[],"v_vicles_carInfo_inputs"),p=new r('<i class="ri-speed-up-fill"></i>',"Kilométrage","number",[],"v_vicles_carInfo_inputs"),h=new r('<i class="ri-luggage-deposit-line"></i>',"Volume du  coffre","number",[],"v_vicles_carInfo_inputs"),_=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Boite à vitesse"},{id:"0",name:"Automatique"},{id:"1",name:"Manuelle"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n})),m=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Climatisation"},{id:"0",name:"OUI"},{id:"1",name:"NON"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n})),v=i.om(null,"v_vicles_car_brand_model_container",[_.getHTML(),m.getHTML()]),g=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Carburant"},{id:"0",name:"Diesel"},{id:"1",name:"Essence"},{id:"2",name:"Hybride"},{id:"4",name:"Electrique"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n})),f=i.om(null,"v_vicles_car_brand_model_container",[g.getHTML()]),b=i.om(null,"v_vicles_carInfo_left",[a,o.getHTML(),u.getHTML(),d.getHTML(),p.getHTML(),h.getHTML(),v,f]),w=i.om(null,"v_vicles_car_drop_images",[i.x6(null,"v_vicles_drop_image_icon",null,'<i class="ri-image-add-line"></i>'),i.Pf("v_vicles_drop_image_text","Déposez ou cliquez pour télécharger l'image de couverture","v_vicles_drop_image_text")]),x=i.DU(null,"Déposez ou cliquez pour télécharger l'image de couverture","file","v_vicles_drop_file_input"),y=i.om(null,"v_vicles_car_small_images",[i.x6(null,"v_vicles_drop_image_icon",null,'<i class="ri-image-add-line"></i>')]),C=i.om(null,"v_vicles_car_small_miniature",[]),N=i.om(null,"v_vicles_car_small_miniature",[]),k=i.om(null,"v_vicles_car_scrollable_images",[y,C,N]),A=i.x6(null,"v_small_button_main","Ajouter",null),L=i.x6(null,"v_small_button_black","Annuler",null),I=i.om(null,"v_vicles_carInfo_buttons",[A,L]),P=i.om(null,"v_vicles_carInfo_right",[w,x,k,I]),E=s.appZone;function S(e){if(e&&e.type.startsWith("image/")){const t=new FileReader;t.onload=e=>{w.innerHTML=`<img src="${e.target.result}" alt="Cover image" class="v_vicles_drop_image_cover_image">`},t.readAsDataURL(e)}}w.addEventListener("click",(()=>x.click())),w.addEventListener("dragover",(e=>{e.preventDefault(),w.classList.add("dragover")})),w.addEventListener("dragleave",(()=>{w.classList.remove("dragover")})),w.addEventListener("drop",(e=>{e.preventDefault(),w.classList.remove("dragover"),S(e.dataTransfer.files[0])})),x.addEventListener("change",(e=>{S(e.target.files[0])})),L.onclick=()=>{history.back()};const T=new i.Dr(b,((e,t)=>{const n=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];n.className=n.className.replace("invisible","red")}),((e,t)=>{const n=e.parentNode.getElementsByClassName("v_fieldIcon_R")[0];n.className=n.className.replace("red","invisible")}),!1,this.#c());A.onclick=()=>{T.validate()},i.WL("/agency/brands","GET",new FormData,(t=>{t=JSON.parse(t);const n=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Sélectionner une marque"},...t],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n})),l=new i.ms(null,"v_vicles_fields",'<i class="ri-arrow-drop-down-line"></i>',[{id:"-1",name:"Sélectionner un model"}],(e=>{let t=i.Pf("v_vicles_dropdown",e.name),n=i.om(null,"dropDownItem",[t]);return i.VQ(e.text)&&(lang.style.direction="rtl"),n.setAttribute("itemValue",e.id),n}));a.append(n.getHTML(),l.getHTML()),l.onChange=(e,t)=>{},n.onChange=(t,n)=>{if("-1"===t)return l.updateItems([{id:"-1",name:"Sélectionner un model"}]),l.onChange=(e,t)=>{},!1;const s=new FormData;s.append("brand",parseInt(t)),i.WL("/agency/models","GET",s,(t=>{t=JSON.parse(t),l.updateItems([{id:"-1",name:"Sélectionner un model"},...t]),l.onChange=t=>{e=parseInt(t)}}),(()=>{}))}}),(()=>{})),m.onChange=e=>{t=parseInt(e)},_.onChange=e=>{l=parseInt(e)},g.onChange=e=>{n=parseInt(e)},E.append(b,P),this.component=s.getHTML()}}class d extends i.uA{constructor(e){super(),this.implementationPoint=e,this.addSubroute(new u("create",e)),this.path="/parking",this.create()}create(){let e=new r('<i class="ri-search-2-line"></i>',"Recherche","text",[],"v_parking_search"),t=new o(null,"v_parking_regular_btn v_parking_pos1",'<i class="ri-filter-2-line"></i>',"Filtrer",(()=>{})),n=new o(null,"v_parking_regular_btn v_parking_pos2",'<i class="ri-import-line"></i>',"Importer",(()=>{})),l=new o(null,"v_parking_regular_btn v_parking_pos3",'<i class="ri-export-line"></i>',"Exporter",(()=>{})),s=new o(null,"v_parking_main_btn v_parking_pos4",'<i class="ri-add-large-line"></i>',"Ajouter",(()=>{})),a=i.P7("/parking/add","add"),c=i.om(null,"v_parking_controls_buttons",[t.getHTML(),n.getHTML(),l.getHTML(),s.getHTML()]),u=i.om(null,"v_parking_controls",[e.getHTML(),c]);s.getHTML().onclick=()=>{a.click()},this.component=i.om(null,"v_vicles_activity",[u])}}class p extends i.uA{constructor(e){super(),this.implementationPoint=e,this.path="/history",this.create()}create(){let e=i.R_(1,"","History");this.component=i.om(null,"v_vicles_activity",[e])}}class h extends i.uA{constructor(e){super(),this.implementationPoint=e,this.path="/staff",this.create()}create(){let e=i.R_(1,"","Staff");this.component=i.om(null,"v_vicles_activity",[e])}}class _ extends i.uA{constructor(e){super(),this.implementationPoint=e,this.path="/settings",this.create()}create(){let e=i.R_(1,"","Settings");this.component=i.om(null,"v_vicles_activity",[e])}}class m extends i.uA{#_;active_tab;constructor(e){super(),this.#_=e,this.path="/",this.active_tab=null,this.create()}#m(e,t,n,i,l,s){location.pathname.includes("/parking")?(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),t.className+=" v_active_tab",this.active_tab=t,s.textContent="Parking"):location.pathname.includes("/staff")?(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),n.className+=" v_active_tab",this.active_tab=n,s.textContent="Personnel"):location.pathname.includes("/history")?(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),i.className+=" v_active_tab",this.active_tab=i,s.textContent="Historique"):location.pathname.includes("/settings")?(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),l.className+=" v_active_tab",this.active_tab=l,s.textContent="Paramètres"):(this.active_tab&&this.active_tab.classList.remove("v_active_tab"),e.className+=" v_active_tab",this.active_tab=e,s.textContent="Statistiques")}#v(e,t){let n=i.x6(null,"v_vicles_activity_navigation v_stats",null,'<i class="ri-file-chart-line"></i>'),l=i.x6(null,"v_vicles_activity_navigation v_park",null,'<i class="ri-parking-box-line"></i>'),s=i.x6(null,"v_vicles_activity_navigation v_staff",null,'<i class="ri-group-3-line"></i>'),a=i.x6(null,"v_vicles_activity_navigation v_hist",null,'<i class="ri-history-fill"></i>'),o=i.x6(null,"v_vicles_activity_navigation v_settings",null,'<i class="ri-settings-2-line"></i>'),r=i.x6(null,"v_vicles_activity_navigation v_logout",null,'<i class="ri-logout-circle-line"></i>'),c=1;return setInterval((()=>{this.#m(n,l,s,a,o,e),c=t.childNodes.length}),60),this.#m(n,l,s,a,o,e),n.onclick=()=>{this.active_tab!==n&&(i.QB.push("/"),n.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=n,e.textContent="Statistiques")},l.onclick=()=>{this.active_tab!==l&&(i.QB.push("/parking"),l.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=l,e.textContent="Parking")},s.onclick=()=>{this.active_tab!==s&&(i.QB.push("/staff"),s.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=s,e.textContent="Personnel")},a.onclick=()=>{this.active_tab!==a&&(i.QB.push("/history"),a.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=a,e.textContent="Historique")},o.onclick=()=>{this.active_tab!==o&&(i.QB.push("/settings"),o.className+=" v_active_tab",this.active_tab.classList.remove("v_active_tab"),this.active_tab=o,e.textContent="Paramètres")},r.onclick=()=>{i.N_.delete("user"),i.QB.push("/"),this.#_.rerender()},[n,l,s,a,o,r]}create(){const e=i.R_(1,"v_vicles_logo","Vicles"),t=i.Pf("v_vicles_title",""),n=i.x6(null,"v_vicles_notifs",null,'<i class="ri-notification-3-line"></i>'),l=i.Sl(null,"v_vicles_agency_logo",""),s=i.om(null,"v_vicles_header",[e,t,n,l]),o=i.om(null,"v_vicles_activity_container",[]),r=this.#v(t,o),c=i.om(null,"v_vicles_navbar",r);i.N_.get("user").logo?l.src=i.N_.get("user").logo:l.src="/assets/tmp_logo.webp",this.component=i.om(null,"v_vicles_app",[s,c,o]),this.addSubroute(new a(o)),this.addSubroute(new d(o)),this.addSubroute(new p(o)),this.addSubroute(new h(o)),this.addSubroute(new _(o))}}class v extends i.uA{constructor(){super(),this.create()}create(){const e=i.R_(1,"v_logo v_spalsh_animation","Vicles");this.component=i.om(null,"v_splash",[e])}}class g extends i.uA{onReady;constructor(){super(),this.onReady=void 0,this.create()}async#g(e,t,n){const l=await i.$A(),s=i.N_.get("user"),a=n();if(null===s)i.yA.removeChild(a),t();else{let n=new FormData;n.append("fingerprint",l),new i.WL("/agency/checkauth","GET",n,(n=>{JSON.parse(n).hasOwnProperty("code")?(i.yA.removeChild(a),t()):(i.yA.removeChild(a),e())}),(()=>{}))}}create(){this.#g((()=>{const e=new m(this);this.subroutes=e.subroutes,this.path=e.path,this.component=e.component,void 0!==this.onReady&&this.onReady()}),(()=>{const e=new s("Login","/",this),t=i.Sl(null,"v_login_image","/assets/bg2.webp");this.addSubroute(new s("Register","/register")),this.path=e.path,this.component=i.om(null,"v_home",[t,e.getHTML()]),void 0!==this.onReady&&this.onReady()}),(()=>{const e=new v;return i.yA.append(e.getHTML()),e.getHTML()}))}}class f extends i.uA{constructor(){super(),this.create()}create(){let e=i.Sl(null,"v_404_image","/assets/404.svg"),t=i.Pf("v_404_message","Vous êtes perdu dans l'univers de Vicles"),n=i.x6(null,"v_404_back","Retournez à la terre");n.onclick=()=>{i.QB.push("/")},this.component=i.om(null,"v_404_page",[e,t,n])}}n.e(217).then(n.bind(n,4217)),i.LK((()=>{let e=new g,t=new f;e.onReady=()=>{new i.QB(e,t).watch()}}))},8919:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$A:()=>Fingerprint,DU:()=>textBox,Dr:()=>Validator,LK:()=>entrypoit,N_:()=>prefs,P7:()=>toRoute,Pf:()=>label,QB:()=>router,R_:()=>heading,Sl:()=>image,VQ:()=>isArabic,WL:()=>brdige,ms:()=>Dropdown,om:()=>block,p_:()=>list,pm:()=>Preferences,uA:()=>Component,x6:()=>button,yA:()=>app});var _babel_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6416),_babel_core__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_core__WEBPACK_IMPORTED_MODULE_0__);function create(e){return document.createElement(e)}class Validator{#f;#b;#w;#x;#y;#C;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.#f=e,this.#b=t,this.#w=n,this.#x=i,this.#C=l}#N(e){return"input"===e.tagName.toLowerCase()&&"button"!==e.type.toLowerCase()&&"submit"!==e.type.toLowerCase()&&"reset"!==e.type.toLowerCase()&&"image"!==e.type.toLowerCase()&&null!==e.getAttribute("required")}validate(){let e=!0;for(const t of this.#f.getElementsByTagName("input")){const n=t.type;if(this.#y=!0,this.#N(t)){if("file"===t.type.toLowerCase()&&0===t.files.length?this.#y=e=!1:"radio"!==t.type.toLowerCase()&&"checkbox"!==t.type.toLowerCase()||t.checked?""===t.value&&(this.#y=e=!1):this.#y=e=!1,null===t.getAttribute("condition")||this.#C[t.getAttribute("condition")](t)||(this.#y=e=!1),!this.#y){if(this.#x)break;this.#b(t,n)}if(this.#y){if(this.#x||null===this.#w)break;this.#w(t,n)}}}return!!e||(this.#x&&this.#b(),!1)}}class Preferences{static instance=null;#k;constructor(){if(this.#k={},null!==localStorage.getItem("b_preferences")&&(this.#k=JSON.parse(localStorage.getItem("b_preferences"))),null!==Preferences.instance)return Preferences.instance;Preferences.instance=this}add(e,t){this.#k[e]=t,localStorage.b_preferences=JSON.stringify(this.#k)}get(e){return this.#k.hasOwnProperty(e)?this.#k[e]:null}delete(e){return!!this.#k.hasOwnProperty(e)&&(delete this.#k[e],localStorage.b_preferences=JSON.stringify(this.#k),!0)}}async function Fingerprint(){const e=document.createElement("canvas"),t=e.getContext("2d");t.textBaseline="top",t.font="14px Arial",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText("fingerprint",2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText("fingerprint",4,17);const n=e.toDataURL(),i=new(window.AudioContext||window.webkitAudioContext),l=i.createOscillator();l.type="triangle",l.frequency.setValueAtTime(1e4,i.currentTime),l.start(0);const s=i.createAnalyser();s.fftSize=2048,l.connect(s);const a=new Float32Array(s.fftSize);s.getFloatTimeDomainData(a);const o=a.join(","),r=[navigator.userAgent,[screen.width,screen.height,screen.colorDepth].join("x"),navigator.language,Intl.DateTimeFormat().resolvedOptions().timeZone,navigator.platform,navigator.hardwareConcurrency,navigator.deviceMemory,navigator.maxTouchPoints,n,o].join("###"),c=(new TextEncoder).encode(r),u=await crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(u)).map((e=>e.toString(16).padStart(2,"0"))).join("")}let prefs=new Preferences;prefs.get("language")||prefs.add("language",navigator.language.split("-")[0]);const app=getId("App"),api="http://localhost:3000";function getId(e){return document.getElementById(e)}function getSelector(e){return document.querySelectorAll(e)}function list(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=create(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"ul":"ol"),null!==i&&(e.id=i),e.className=n;for(const n of t){const t=create("li");t.textContent=n,e.appendChild(t)}return e}function object(e,t){let n=create("object");return n.data=e,n.type=t,n}function paragraph(e,t,n){let i=create("p");return"%bcode%"===n.substring(0,7).toLowerCase()?i=bcode(n=n.substring(7,n.length)):"%html%"===n.substring(0,6).toLowerCase()?i.innerHTML=n.substring(6,n.length):i.textContent=n,e&&(i.id=e),t&&(i.className=t),i}function jsonFile(e,t,n){let i=new XMLHttpRequest;i.open("GET",e,!1),i.onreadystatechange=()=>{200===i.status?t(i.responseText):n(i.statusText,i.responseText)},i.send()}function textBox(e,t,n,i){let l=create("input");return l.type=n,null!==e&&(l.id=e),l.placeholder=t,l.className=i,l}function image(e,t,n){let i=create("img");return null!==e&&(i.id=e),i.className=t,i.src=n,i.alt="",i}function block(e,t,n){let i=create("div");return null!==e&&(i.id=e),i.className=t,null!=n&&n.forEach((e=>{i.append(e)})),i}function button(e,t,n,i){let l=create("button");return null!==e&&(l.id=e),l.className=t,null!==n?l.textContent=n:null!==i&&(l.innerHTML=i),l.title="",l}function heading(e,t,n){let i=create("h"+e);return null!==t&&(i.className=t),i.textContent=n,i}function anchor(e,t,n,i){let l=create("a");return e&&(l.id=e),t&&(l.className=t),l.href=n,l.textContent=i,l}function textArea(e,t,n){let i=create("textarea");return e&&(i.id=e),i.className=t,i.placeholder=n,i}function brdige(e,t,n,i,l){let s=new XMLHttpRequest;if("GET"===t||"DELETE"===t){let a=new URLSearchParams;n.forEach(((e,t)=>{a.append(t,e)})),e+="?"+a.toString(),s.open(t,api+e),s.withCredentials=!0,s.onload=function(){200===s.status&&4===s.readyState?i(s.responseText):l(s.status)},s.send()}else{if("POST"!==t&&"PUT"!==t)throw new Error("Unsupported HTTP method");s.open(t,api+e),s.withCredentials=!0,s.onload=function(){200===s.status&&4===s.readyState?i(s.responseText):l(s.status)},s.send(n)}}function Option(e,t){let n=create("option");return n.value=e,n.textContent=t,n}function select(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=create("select");return null!==e&&(i.id=e),null!==t&&(i.className=t),null!==n&&n.forEach((e=>{let t=Option(e.value,e.text);i.append(t)})),i}function table(e,t,n){let i=create("table");return e&&(i.id=e),i.className=t,n&&n.forEach((e=>{i.append(e)})),i}function tableRow(e,t,n){let i=create("tr");return e&&(i.id=e),i.className=t,n&&n.forEach((e=>{i.append(e)})),i}function tableData(e,t,n){let i=create("td");return e&&(i.id=e),i.className=t,"string"==typeof n?i.textContent=n:i.append(n),i}function label(e,t){let n=document.createElement("span");return n.textContent=t,n.className=e,n}function audio(e,t,n){let i=create("audio");return e&&(i.id=e),t&&(i.className=t),i.src=n,i}function canvas(e){let t=document.createElement("canvas");return t.className=e,t}function isArabic(e){return!!/[\u0600-\u06FF]/.test(e)}function toBase64(e,t){let n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}function resizeImage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:200},i=canvas("builderSpecialCanvas"),l=new Image;i.width=n.width,l.onload=function(){i.height=n.width*(l.height/l.width);let e=i.height;i.getContext("2d").drawImage(l,0,0,n.width,e),t(i.toDataURL("image/jpeg",1))},l.src=e}function entrypoit(e){document.onreadystatechange=function(){"complete"===document.readyState&&e()}}function alert(e,t,n,i,l){let s=label("alertMessage",e),a=button(null,"alertOKEY alertButton",t,null),o=button(null,"alertNO alertButton",n,null),r=block("alertContainer","alertContainer",[s,a,o]),c=block("alertPlatform","builderAlert",[r]);app.append(c),o.onclick=()=>{l(c)},a.onclick=()=>{i(c)}}function insertStyle(e){let t=document.createElement("link");t.rel="stylesheet",t.href=e+"?v="+Math.random(),document.head.append(t)}function insertScript(e,t){let n=document.createElement("script");n.type=t,n.src=e+"?v="+Math.random(),document.body.append(n)}class Errors{static exists=null;static wrongCredential=null;static failure=null;static invalidSession=null;static validSession=null}function toRoute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=create("a");return i&&(s.id=i),l&&(s.className=l),"append"===n&&(e=location.pathname+e),s.textContent=t,s.onclick=t=>{t.preventDefault(),history.pushState("","",e)},s}class Component{component;path;subroutes;connectedComponents;implementationPoint;subrouteOnPath;constructor(){this.component=null,this.path=null,this.subroutes=[],this.implementationPoint=null,this.subrouteOnPath=!1,this.connectedComponents=[]}addSubroute(e){this.subroutes.push(e)}create(){this.component=null}getHTML(){return this.component}rerender(){let e=this.component;this.create(),e.replaceWith(this.component),e.parentNode.removeChild(e)}findRoute(e){const t=e;if(this.path===t)return this;for(const e of this.subroutes)if(e.path===t)return e;return null}hasRoute(e){let t=e[0];if(this.subroutes.forEach((e=>{e.component.parentNode===this.component&&this.component.removeChild(e.component)})),e.length>1){e=e.slice(1);for(let t=0;t<this.subroutes.length;t++){e.forEach((e=>{if(this.subroutes[t].path===e)return this.component.append(this.subroutes[t].getHTML()),this.subroutes[t]}));let n=this.subroutes[t].hasRoute(e);if(n)return this.component.append(n),this}return null}return this.path===t?(this.subroutes.forEach((e=>{e.component.parentNode===this.component&&this.component.removeChild(e.component)})),this):null}}function riseEvent(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];e[t](...i)}class Dropdown extends Component{#A;#p;#d;#L;#I;#P;#E;#S;#T;static OPEN=1;static CLOSE=0;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(),null!==t?0!==i.length?l||typeof l===Function?n?(this.#A=e,this.#p=t,this.#I=i[0].value,this.#P=[],this.#L=Dropdown.CLOSE,this.#d=n,this.#E=i,this.#T=l,this.#E.forEach((e=>{this.#P.push(l(e))})),this.create()):console.error("The dropdown icon must be specified [innerHTML]"):console.error("An adapter must be specified"):console.error("Items must be defined."):console.error("styleClass attribute must be defined.")}rerender(){let e=this.component;this.create(),e.parentNode.replaceChild(this.component,e)}#D(e){return this.#P.find((t=>t.getAttribute("itemValue")===e))}setValue(e){const t=this.#D(e);void 0!==this.#D(e)&&this.#S.replaceChildren(t.cloneNode(!0))}updateItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0&&(this.#E=e,this.#P=[],this.#E.forEach((e=>{this.#P.push(this.#T(e))})),this.rerender())}create(){let e=button(null,"b_dropIcon",null,this.#d),t=block(null,"b_currentItem",null),n=block(null,"b_selectedValue",[t,e]),i=block(null,"b_listItems",[]),l=block(this.#A,"b_dropdown",[n,i]);l.classList.add(...this.#p.split(" ")),this.#S=t,i.append(...this.#P),n.onclick=()=>{this.#L===Dropdown.CLOSE?(i.style="display: block !important;",this.#L=Dropdown.OPEN):this.#L===Dropdown.OPEN&&(i.removeAttribute("style"),this.#L=Dropdown.CLOSE)},this.#P.forEach((e=>{e.onclick=()=>{t.replaceChildren(e.cloneNode(!0)),n.click(),riseEvent(this,"onChange",e.getAttribute("itemValue"),e.textContent)}})),t.append(this.#P[0].cloneNode(!0)),this.component=l}}class router{#R;#M;#O;#V;static old;constructor(e,t){this.#O=t,this.#R=e,this.old=e.path,this.#M=null,this.#V=0}updateOLD(){this.old=document.location.pathname}watch(){this.resolve("/"),window.onpopstate=()=>{null!==this.#M&&(this.#M.component.parentNode.removeChild(this.#M.component),this.#M=null)},setInterval((()=>{let e=document.location.pathname;e!==this.old&&(this.old=e,this.resolve(e))}),60)}#H(e){let t=[];for(let n=0;n<e.length;n++){const i=e[n];""===i&&0!==n||t.push("/"+i)}return t}resolve(e){let t,n,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("default"===l)t=this.#H(e.split("/")),n=this.#R.findRoute(t[0]),this.resolve(["/"],"beta",n),i=app;else if("alpha"===l)n=s,t=e,n=n.findRoute(t[0]),i=app;else if("beta"===l){n=s,t=e;let l=null;for(const e of n.subroutes)if(e.path===t[0]){l=e;break}if(null===l)return 0;n=l,i=app}null!==this.#M&&n&&this.#M.component.parentNode&&this.#M.subroutes.includes(n.path)&&(this.#M.component.parentNode.removeChild(this.#M.component),this.#M=null),null!==n&&(n!==this.#R&&(this.#M=n),n.implementationPoint&&(i=n.implementationPoint)),n||"beta"===l?(app===this.#O.component.parentNode&&app.removeChild(this.#O.component),i.append(n.component),t.length>1&&"beta"!==l&&(t=t.splice(1),this.resolve(t,"alpha",n))):(app===this.#R.component.parentNode&&app.removeChild(this.#R.component),app.append(this.#O.component))}static push(e){history.pushState("","",e)}}function provisory(){let e=create("span");return e.className="provisory",e}function bcode(input){const placeholderRegex=/%([^%:]+):([^%]+)%/g;let calls=[];const result=input.replace(placeholderRegex,((e,t,n)=>{const i=n.split(":");return calls.push({func:t,args:i}),provisory().outerHTML}));let p=paragraph(null,null,"");p.innerHTML=result;let provs=p.querySelectorAll(".provisory");return provs.forEach(((e,i)=>{e.replaceWith(eval(calls[i].func)(...calls[i].args))})),p}},9971:()=>{},8411:()=>{}},e=>{e.O(0,[416],(()=>{return t=6399,e(e.s=t);var t}));e.O()}]);